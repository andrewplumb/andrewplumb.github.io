{"name":"Andrewplumb.GitHub.io","tagline":"gh-pages","body":"@@ -0,0 +1,229 @@\r\n<!DOCTYPE html>\r\n\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n\r\n<head>\r\n\r\n<meta charset=\"utf-8\">\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\r\n<meta name=\"generator\" content=\"pandoc\" />\r\n\r\n<meta name=\"author\" content=\"AndrewP\" />\r\n\r\n<meta name=\"date\" content=\"2015-12-22\" />\r\n\r\n<title>Practical Machine Learning Course Project</title>\r\n\r\n<script src=\"data:application/x-javascript,%2F%2A%21%20jQuery%20v1%2E11%2E0%20%7C%20%28c%29%202005%2C%202014%20jQuery%20Foundation%2C%20Inc%2E%20%7C%20jquery%2Eorg%2Flicense%20%2A%2F%0A%21function%28a%2Cb%29%7B%22object%22%3D%3Dtypeof%20module%26%26%22object%22%3D%3Dtypeof%20module%2Eexports%3Fmodule%2Eexports%3Da%2Edocument%3Fb%28a%2C%210%29%3Afunction%28a%29%7Bif%28%21a%2Edocument%29throw%20new%20Error%28%22jQuery%20requires%20a%20window%20with%20a%20document%22%29%3Breturn%20b%28a%29%7D%3Ab%28a%29%7D%28%...(line truncated)...\r\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n<link href=\"data:text/css,%2F%2A%21%0A%20%2A%20Bootstrap%20v3%2E3%2E1%20%28http%3A%2F%2Fgetbootstrap%2Ecom%29%0A%20%2A%20Copyright%202011%2D2014%20Twitter%2C%20Inc%2E%0A%20%2A%20Licensed%20under%20MIT%20%28https%3A%2F%2Fgithub%2Ecom%2Ftwbs%2Fbootstrap%2Fblob%2Fmaster%2FLICENSE%29%0A%20%2A%2F%2F%2A%21%20normalize%2Ecss%20v3%2E0%2E2%20%7C%20MIT%20License%20%7C%20git%2Eio%2Fnormalize%20%2A%2Fhtml%7Bfont%2Dfamily%3Asans%2Dserif%3B%2Dwebkit%2Dtext%2Dsize%2Dadjust%3A100%25%3B%2Dms%2Dtext%2Dsize%2Dadjust%3A100%25%...(line truncated)...\r\n<script src=\"data:application/x-javascript,%2F%2A%21%0A%20%2A%20Bootstrap%20v3%2E3%2E1%20%28http%3A%2F%2Fgetbootstrap%2Ecom%29%0A%20%2A%20Copyright%202011%2D2014%20Twitter%2C%20Inc%2E%0A%20%2A%20Licensed%20under%20MIT%20%28https%3A%2F%2Fgithub%2Ecom%2Ftwbs%2Fbootstrap%2Fblob%2Fmaster%2FLICENSE%29%0A%20%2A%2F%0Aif%28%22undefined%22%3D%3Dtypeof%20jQuery%29throw%20new%20Error%28%22Bootstrap%27s%20JavaScript%20requires%20jQuery%22%29%3B%2Bfunction%28a%29%7Bvar%20b%3Da%2Efn%2Ejquery%2Esplit%28%22%20%22%29%5B0%5D...(line truncated)...\r\n<script src=\"data:application/x-javascript,%2F%2A%2A%0A%2A%20%40preserve%20HTML5%20Shiv%203%2E7%2E2%20%7C%20%40afarkas%20%40jdalton%20%40jon%5Fneal%20%40rem%20%7C%20MIT%2FGPL2%20Licensed%0A%2A%2F%0A%2F%2F%20Only%20run%20this%20code%20in%20IE%208%0Aif%20%28%21%21window%2Enavigator%2EuserAgent%2Ematch%28%22MSIE%208%22%29%29%20%7B%0A%21function%28a%2Cb%29%7Bfunction%20c%28a%2Cb%29%7Bvar%20c%3Da%2EcreateElement%28%22p%22%29%2Cd%3Da%2EgetElementsByTagName%28%22head%22%29%5B0%5D%7C%7Ca%2EdocumentElement%3Breturn%...(line truncated)...\r\n<script src=\"data:application/x-javascript,%2F%2A%21%20Respond%2Ejs%20v1%2E4%2E2%3A%20min%2Fmax%2Dwidth%20media%20query%20polyfill%20%2A%20Copyright%202013%20Scott%20Jehl%0A%20%2A%20Licensed%20under%20https%3A%2F%2Fgithub%2Ecom%2Fscottjehl%2FRespond%2Fblob%2Fmaster%2FLICENSE%2DMIT%0A%20%2A%20%20%2A%2F%0A%0Aif%20%28%21%21window%2Enavigator%2EuserAgent%2Ematch%28%22MSIE%208%22%29%29%20%7B%0A%21function%28a%29%7B%22use%20strict%22%3Ba%2EmatchMedia%3Da%2EmatchMedia%7C%7Cfunction%28a%29%7Bvar%20b%2Cc%3Da%2Edocum...(line truncated)...\r\n\r\n<style type=\"text/css\">code{white-space: pre;}</style>\r\n<link href=\"data:text/css,pre%20%2Eoperator%2C%0Apre%20%2Eparen%20%7B%0A%20color%3A%20rgb%28104%2C%20118%2C%20135%29%0A%7D%0A%0Apre%20%2Eliteral%20%7B%0A%20color%3A%20%23990073%0A%7D%0A%0Apre%20%2Enumber%20%7B%0A%20color%3A%20%23099%3B%0A%7D%0A%0Apre%20%2Ecomment%20%7B%0A%20color%3A%20%23998%3B%0A%20font%2Dstyle%3A%20italic%0A%7D%0A%0Apre%20%2Ekeyword%20%7B%0A%20color%3A%20%23900%3B%0A%20font%2Dweight%3A%20bold%0A%7D%0A%0Apre%20%2Eidentifier%20%7B%0A%20color%3A%20rgb%280%2C%200%2C%200%29%3B%0A%7D%0A%0Apre%2...(line truncated)...\r\n<script src=\"data:application/x-javascript,%0Avar%20hljs%3Dnew%20function%28%29%7Bfunction%20m%28p%29%7Breturn%20p%2Ereplace%28%2F%26%2Fgm%2C%22%26amp%3B%22%29%2Ereplace%28%2F%3C%2Fgm%2C%22%26lt%3B%22%29%7Dfunction%20f%28r%2Cq%2Cp%29%7Breturn%20RegExp%28q%2C%22m%22%2B%28r%2EcI%3F%22i%22%3A%22%22%29%2B%28p%3F%22g%22%3A%22%22%29%29%7Dfunction%20b%28r%29%7Bfor%28var%20p%3D0%3Bp%3Cr%2EchildNodes%2Elength%3Bp%2B%2B%29%7Bvar%20q%3Dr%2EchildNodes%5Bp%5D%3Bif%28q%2EnodeName%3D%3D%22CODE%22%29%7Breturn%20q%7Dif%28%2...(line truncated)...\r\n<style type=\"text/css\">\r\n  pre:not([class]) {\r\n    background-color: white;\r\n  }\r\n</style>\r\n<script type=\"text/javascript\">\r\nif (window.hljs && document.readyState && document.readyState === \"complete\") {\r\n   window.setTimeout(function() {\r\n      hljs.initHighlighting();\r\n   }, 0);\r\n}\r\n</script>\r\n\r\n\r\n\r\n</head>\r\n\r\n<body>\r\n\r\n<style type=\"text/css\">\r\n.main-container {\r\n  max-width: 940px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n}\r\ncode {\r\n  color: inherit;\r\n  background-color: rgba(0, 0, 0, 0.04);\r\n}\r\nimg { \r\n  max-width:100%; \r\n  height: auto; \r\n}\r\n</style>\r\n<div class=\"container-fluid main-container\">\r\n\r\n\r\n<div id=\"header\">\r\n<h1 class=\"title\">Practical Machine Learning Course Project</h1>\r\n<h4 class=\"author\"><em>AndrewP</em></h4>\r\n<h4 class=\"date\"><em>December 22, 2015</em></h4>\r\n</div>\r\n\r\n\r\n<div id=\"intro-and-background\" class=\"section level1\">\r\n<h1>Intro and Background</h1>\r\n<p>The goal of this project is to predict in what manner an exercised was performed, based on accelerometer data from a personal activity monitor.</p>\r\n<p>Background on the project from assignment page: “Using devices such as Jawbone Up, Nike FuelBand, and Fitbit it is now possible to collect a large amount of data about personal activity relatively inexpensively. These type of devices are part of the quantified self movement - a group of enthusiasts who take measurements about themselves regularly to improve their health, to find patterns in their behavior, or because they are tech geeks. One thing that people regularly do is quantify how much of a partic...(line truncated)...\r\n<p>The following Libraries are required:</p>\r\n<pre class=\"r\"><code>library(caret)</code></pre>\r\n<pre><code>## Warning: package 'caret' was built under R version 3.2.2</code></pre>\r\n<pre><code>## Loading required package: lattice\r\n## Loading required package: ggplot2</code></pre>\r\n<pre class=\"r\"><code>library(rpart)\r\nlibrary(randomForest)</code></pre>\r\n<pre><code>## Warning: package 'randomForest' was built under R version 3.2.3</code></pre>\r\n<pre><code>## randomForest 4.6-12\r\n## Type rfNews() to see new features/changes/bug fixes.</code></pre>\r\n</div>\r\n<div id=\"data-sources\" class=\"section level1\">\r\n<h1>Data Sources</h1>\r\n<p>The data is available at the folloing websites: Training: <a href=\"https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv\" class=\"uri\">https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv</a> Testing: <a href=\"https://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv\" class=\"uri\">https://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv</a></p>\r\n<pre class=\"r\"><code># read the data from the csv and store it in train and test variables\r\ntrain &lt;- read.csv(url(&quot;http://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv&quot;), na.strings=c(&quot;NA&quot;,&quot;&quot;), header=TRUE)\r\ntest &lt;- read.csv(url(&quot;http://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv&quot;), na.strings=c(&quot;NA&quot;,&quot;&quot;), header=TRUE)</code></pre>\r\n<p>For reproducibility, I set the seed before splitting the train data into a training and cross validation data set.</p>\r\n<pre class=\"r\"><code>set.seed(123)\r\ninTrain &lt;- createDataPartition(train$classe, p=0.7, list = FALSE)\r\ntraining &lt;- train[inTrain, ]; crossVal &lt;- train[-inTrain, ]</code></pre>\r\n</div>\r\n<div id=\"data-cleaning-and-preprocessing\" class=\"section level1\">\r\n<h1>Data cleaning and preprocessing</h1>\r\n<p>To prepare the data for prediction, some cleaning and preprocessing was needed. Predictors with near-zero variance, non-predictive values, and predictors that have greater than 40 NA’s were removed. The same data cleaning was then applied to the cross validation and test sets.</p>\r\n<pre class=\"r\"><code># remove columns with near zero variance\r\nnsv &lt;- nearZeroVar(training)\r\ntraining &lt;- training[, -nsv]\r\n\r\n#remove the first two columns (row number and name) as they are not predictive\r\ntraining &lt;- training[c(-1,-2)]\r\n\r\n# remove any columns that have more than 40 NA values\r\ntraining &lt;- training[colSums(is.na(training))&lt;40]\r\n\r\n# copy all preprocessing done to the training set to the cross validation and test data\r\n# sets.  In test, exclude the &quot;classe&quot; column and include &quot;problem_id&quot;\r\ncrossVal &lt;- crossVal[colnames(training)]\r\ntest &lt;- test[c(colnames(training[,-57]),&quot;problem_id&quot;)]</code></pre>\r\n</div>\r\n<div id=\"rpart-model\" class=\"section level1\">\r\n<h1>RPart Model</h1>\r\n<p>The first model fit is a decision tree.</p>\r\n<pre class=\"r\"><code>modFit1 &lt;- rpart(classe~., data = training, method = &quot;class&quot;)\r\nplot(modFit1, uniform = TRUE, main = &quot;Classification Tree&quot;)\r\ntext(modFit1, use.n = TRUE, all = TRUE, cex=.8)</code></pre>\r\n<p><img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABUAAAAPACAMAAADDuCPrAAACf1BMVEUAAAAAAA0AABcAACAAACEAACgAACoAADEAADIAADoAAEkAAFgAAGYADQAADToADVEAFwAAF2YAICEAIHsAISAAIXwAKAAAKCgAKDoAKIEAKJAAKigAKjoAKpAAMVEAMlEAMpAAOigAOioAOjoAOmYAOnsAOnwAOpAAOpwAOp0ASUkASbYAWGYAWLYAZoEAZpwAZp0AZrYNAAANUbwXAAAXKpAXZtsgAAAgDQAgIQAge9shAAAhIAAhfNsoAAAoKAAoOgAogf8okNsqAAAqOgAqkLwqkNsxAAAxUTIxkLYxkNsyAAAyUTEyfLwykNs6AAA6KAA6KgA6Kjo6Ojo6Ons6OpA6Zkk6Zlg6ZmY6e3w6fHs6kJA6kJw6kJ06kLY6kLw6kNs6nP86nf9JAABJFwBJKABJSQBJtv9RDQBRM...(line truncated)...\r\n<p>Predictions from this model are made on the cross validation data set, and the accuracy of the model is determined using a confusion matrix</p>\r\n<pre class=\"r\"><code>predictions1 &lt;- predict(modFit1, crossVal, type = &quot;class&quot;)\r\nconfusionMatrix(predictions1, crossVal$classe)</code></pre>\r\n<pre><code>## Confusion Matrix and Statistics\r\n## \r\n##           Reference\r\n## Prediction    A    B    C    D    E\r\n##          A 1595   50    8    2    0\r\n##          B   60  941   57   49    0\r\n##          C   19  136  942  166   37\r\n##          D    0   12   14  593   67\r\n##          E    0    0    5  154  978\r\n## \r\n## Overall Statistics\r\n##                                           \r\n##                Accuracy : 0.8579          \r\n##                  95% CI : (0.8488, 0.8668)\r\n##     No Information Rate : 0.2845          \r\n##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       \r\n##                                           \r\n##                   Kappa : 0.8203          \r\n##  Mcnemar's Test P-Value : NA              \r\n## \r\n## Statistics by Class:\r\n## \r\n##                      Class: A Class: B Class: C Class: D Class: E\r\n## Sensitivity            0.9528   0.8262   0.9181   0.6151   0.9039\r\n## Specificity            0.9858   0.9650   0.9263   0.9811   0.9669\r\n## Pos Pred Value         0.9637   0.8500   0.7246   0.8644   0.8602\r\n## Neg Pred Value         0.9813   0.9586   0.9817   0.9286   0.9781\r\n## Prevalence             0.2845   0.1935   0.1743   0.1638   0.1839\r\n## Detection Rate         0.2710   0.1599   0.1601   0.1008   0.1662\r\n## Detection Prevalence   0.2812   0.1881   0.2209   0.1166   0.1932\r\n## Balanced Accuracy      0.9693   0.8956   0.9222   0.7981   0.9354</code></pre>\r\n<p>The accuracy is .8579, which gives an out of sample error rate of .1421</p>\r\n</div>\r\n<div id=\"random-forest\" class=\"section level1\">\r\n<h1>Random Forest</h1>\r\n<p>A random forest model should give better accuracy.</p>\r\n<pre class=\"r\"><code>modFit2 &lt;- train(classe~., data = training, method = &quot;rf&quot;, ntree = 10)\r\npredictions2 &lt;- predict(modFit2, crossVal)\r\nconfusionMatrix(predictions2, crossVal$classe)</code></pre>\r\n<pre><code>## Confusion Matrix and Statistics\r\n## \r\n##           Reference\r\n## Prediction    A    B    C    D    E\r\n##          A 1674    1    0    0    0\r\n##          B    0 1138    4    0    0\r\n##          C    0    0 1018    3    0\r\n##          D    0    0    4  960    0\r\n##          E    0    0    0    1 1082\r\n## \r\n## Overall Statistics\r\n##                                           \r\n##                Accuracy : 0.9978          \r\n##                  95% CI : (0.9962, 0.9988)\r\n##     No Information Rate : 0.2845          \r\n##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       \r\n##                                           \r\n##                   Kappa : 0.9972          \r\n##  Mcnemar's Test P-Value : NA              \r\n## \r\n## Statistics by Class:\r\n## \r\n##                      Class: A Class: B Class: C Class: D Class: E\r\n## Sensitivity            1.0000   0.9991   0.9922   0.9959   1.0000\r\n## Specificity            0.9998   0.9992   0.9994   0.9992   0.9998\r\n## Pos Pred Value         0.9994   0.9965   0.9971   0.9959   0.9991\r\n## Neg Pred Value         1.0000   0.9998   0.9984   0.9992   1.0000\r\n## Prevalence             0.2845   0.1935   0.1743   0.1638   0.1839\r\n## Detection Rate         0.2845   0.1934   0.1730   0.1631   0.1839\r\n## Detection Prevalence   0.2846   0.1941   0.1735   0.1638   0.1840\r\n## Balanced Accuracy      0.9999   0.9991   0.9958   0.9975   0.9999</code></pre>\r\n<p>The classification tree from the random forest:</p>\r\n<pre class=\"r\"><code>plot(modFit1, uniform = TRUE, main = &quot;Classification Tree&quot;)\r\ntext(modFit1, use.n = TRUE, all = TRUE, cex=.8)</code></pre>\r\n<p><img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABUAAAAPACAMAAADDuCPrAAACf1BMVEUAAAAAAA0AABcAACAAACEAACgAACoAADEAADIAADoAAEkAAFgAAGYADQAADToADVEAFwAAF2YAICEAIHsAISAAIXwAKAAAKCgAKDoAKIEAKJAAKigAKjoAKpAAMVEAMlEAMpAAOigAOioAOjoAOmYAOnsAOnwAOpAAOpwAOp0ASUkASbYAWGYAWLYAZoEAZpwAZp0AZrYNAAANUbwXAAAXKpAXZtsgAAAgDQAgIQAge9shAAAhIAAhfNsoAAAoKAAoOgAogf8okNsqAAAqOgAqkLwqkNsxAAAxUTIxkLYxkNsyAAAyUTEyfLwykNs6AAA6KAA6KgA6Kjo6Ojo6Ons6OpA6Zkk6Zlg6ZmY6e3w6fHs6kJA6kJw6kJ06kLY6kLw6kNs6nP86nf9JAABJFwBJKABJSQBJtv9RDQBRM...(line truncated)...\r\n<p>The new accuracy is .9983, giving an out of sample error rate of 0.0017. This is the model that will be used to predict for the test data.</p>\r\n<pre class=\"r\"><code>answers &lt;- predict(modFit2, newdata = test)\r\nprint(answers)</code></pre>\r\n<pre><code>##  [1] B A A A A E D B A A B C B A E E A B B B\r\n## Levels: A B C D E</code></pre>\r\n</div>\r\n\r\n\r\n</div>\r\n\r\n<script>\r\n\r\n// add bootstrap table styles to pandoc tables\r\n$(document).ready(function () {\r\n  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');\r\n});\r\n\r\n</script>\r\n\r\n<!-- dynamically load mathjax for compatibility with self-contained -->\r\n<script>\r\n  (function () {\r\n    var script = document.createElement(\"script\");\r\n    script.type = \"text/javascript\";\r\n    script.src  = \"https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML\";\r\n    document.getElementsByTagName(\"head\")[0].appendChild(script);\r\n  })();\r\n</script>\r\n\r\n</body>\r\n</html>","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}